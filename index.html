<link rel="stylesheet" href="https://s3.ap-northeast-2.amazonaws.com/materials.spartacodingclub.kr/easygpt/default.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>


<div>3학년 도덕과 공공장소에서 지켜야 할 규칙</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script>
<script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>
<script type="text/javascript">
  // Global variable to store the classifier
let classifier;

// Label
let label = '공공장소를 말하면 그 곳에서 지켜야 할 규칙을 알려드립니다.';

// Teachable Machine model URL:
let soundModel = 'https://teachablemachine.withgoogle.com/models/Kfd-ZPhXH/';


function preload() {
  // Load the model
  classifier = ml5.soundClassifier(soundModel + 'model.json');
}

function setup() {
  createCanvas(320, 300);
  // Start classifying
  // The sound model will continuously listen to the microphone
  classifier.classify(gotResult);
}

function draw() {
  background(0);
  // Draw the label in the canvas
  

//Draw the label

let data = ""

    if(label == '놀이공원'){
            data="놀이공원에서는 줄을 질서 있게 줄을 섭니다."
    }
    else if(label == '도서관') {
            data="도서관에서는 큰 소리로 떠들거나 장난치지 않습니다."
    }
    else if(label == '버스터미널') {
            data='버스터미널에서는 뛰어다니지 않습니다.'
    }
    else if(label == '영화관') {
            data ='영화관에서는 앞 좌석을 발로 차면 안됩니다.'
    }
  
    fill(255);
    textSize(12);
    textAlign(CENTER,CENTER);
    text(data, width / 2, height / 2);

  fill(255);
  textSize(11);
  textAlign(CENTER, CENTER);
  text(label, width / 2, height / 4);

}


// The model recognizing a sound will trigger this event
function gotResult(error, results) {
  if (error) {
    console.error(error);
    return;
  }
  // The results are in an array ordered by confidence.
  // console.log(results[0]);
  

label = results[0].label;


}
</script>
